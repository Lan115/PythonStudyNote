## 列表操作：增删改查

### 列表基础

```
# 创建列表
my_list = [1, 2, 3, 'hello', 3.14]
empty_list = []
list_from_string = list("hello")  # ['h', 'e', 'l', 'l', 'o']
```

### 增加元素

#### append() - 在末尾添加

```
fruits = ['apple', 'banana']
fruits.append('orange')  # ['apple', 'banana', 'orange']
fruits.append(['grape', 'mango'])  # ['apple', 'banana', 'orange', ['grape', 'mango']]
```

#### extend() - 扩展列表（合并）

```
fruits = ['apple', 'banana']
fruits.extend(['orange', 'grape'])  # ['apple', 'banana', 'orange', 'grape']
fruits.extend('hello')  # ['apple', 'banana', 'orange', 'grape', 'h', 'e', 'l', 'l', 'o']
```

#### insert() - 在指定位置插入

```
numbers = [1, 2, 3, 4]
numbers.insert(2, 99)  # [1, 2, 99, 3, 4] - 在索引2的位置插入99
numbers.insert(0, 0)   # [0, 1, 2, 99, 3, 4] - 在开头插入
numbers.insert(len(numbers), 100)  # 在末尾插入，等同于append
```

#### + 运算符和 * 运算符

```
使用 + 合并列表
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2  # [1, 2, 3, 4, 5, 6]

使用 * 重复列表
repeated = [1, 2] * 3  # [1, 2, 1, 2, 1, 2]
```

### 删除元素

#### remove() - 删除指定值

```
fruits = ['apple', 'banana', 'orange', 'banana']
fruits.remove('banana')  # 删除第一个匹配项: ['apple', 'orange', 'banana']
# fruits.remove('grape')  # ValueError: list.remove(x): x not in list
```

#### pop() - 删除并返回指定位置的元素

```
numbers = [10, 20, 30, 40, 50]
removed = numbers.pop()      # 删除最后一个元素，返回50
print(numbers)              # [10, 20, 30, 40]
removed2 = numbers.pop(1)   # 删除索引1的元素，返回20
print(numbers)              # [10, 30, 40]
```

#### del - 删除指定位置或切片

```
numbers = [1, 2, 3, 4, 5, 6]
del numbers[2]           # 删除索引2的元素: [1, 2, 4, 5, 6]
del numbers[1:3]         # 删除切片: [1, 5, 6]
del numbers[:]           # 清空列表: []
# del numbers            # 删除整个列表变量
```

#### del - 删除指定位置或切片

```
numbers = [1, 2, 3, 4, 5, 6]
del numbers[2]           # 删除索引2的元素: [1, 2, 4, 5, 6]
del numbers[1:3]         # 删除切片: [1, 5, 6]
del numbers[:]           # 清空列表: []
# del numbers            # 删除整个列表变量
```

#### clear() - 清空列表

```
numbers = [1, 2, 3, 4, 5]
numbers.clear()  # 清空列表: []
```

### 修改元素

#### 直接赋值修改

```
fruits = ['apple', 'banana', 'orange']
fruits[1] = 'grape'      # ['apple', 'grape', 'orange']
fruits[-1] = 'mango'     # ['apple', 'grape', 'mango']
```

#### 切片赋值修改

```
numbers = [1, 2, 3, 4, 5, 6]
numbers[1:4] = [20, 30, 40]     # [1, 20, 30, 40, 5, 6]
numbers[1:4] = [99]             # [1, 99, 5, 6] - 用更少的元素替换
numbers[1:2] = [100, 200, 300]  # [1, 100, 200, 300, 5, 6] - 用更多的元素替换
```

### 查询元素

#### 索引访问

```
fruits = ['apple', 'banana', 'orange', 'grape']
print(fruits[0])     # 'apple' - 第一个元素
print(fruits[-1])    # 'grape' - 最后一个元素
print(fruits[-2])    # 'orange' - 倒数第二个元素
```

#### 切片访问

```
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(numbers[2:5])      # [2, 3, 4] - 索引2到4（不包含5）
print(numbers[:3])       # [0, 1, 2] - 从开始到索引2
print(numbers[5:])       # [5, 6, 7, 8, 9] - 从索引5到结束
print(numbers[::2])      # [0, 2, 4, 6, 8] - 步长为2
print(numbers[::-1])     # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0] - 反转列表
```

#### index() - 查找元素索引

```
fruits = ['apple', 'banana', 'orange', 'banana']
index1 = fruits.index('banana')      # 1 - 第一个匹配的索引
index2 = fruits.index('banana', 2)   # 3 - 从索引2开始查找
# index3 = fruits.index('grape')     # ValueError: 'grape' is not in list
```

#### count() - 统计元素出现次数

```
numbers = [1, 2, 3, 2, 4, 2, 5]
count_2 = numbers.count(2)   # 3
count_6 = numbers.count(6)   # 0
```

#### in 和 not in 运算符

```
fruits = ['apple', 'banana', 'orange']
print('apple' in fruits)     # True
print('grape' in fruits)     # False
print('mango' not in fruits) # True
```


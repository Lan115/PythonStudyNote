# 异常处理

## 异常基础

```
try:
    # 可能抛出异常的代码
    result = 10 / 0
except ZeroDivisionError:
    # 处理特定异常
    print("不能除以零!")
except ValueError as e:
    # 捕获异常对象
    print(f"值错误: {e}")
except (TypeError, IndexError):
    # 同时捕获多种异常
    print("类型或索引错误")
except Exception as e:
    # 捕获所有异常
    print(f"发生错误: {e}")
else:
    # 没有异常时执行
    print("没有发生异常")
finally:
    # 无论是否异常都会执行
    print("清理工作")
```

## 常见内置异常

### 基础异常类

```
BaseException        # 所有异常的基类
Exception            # 常规异常的基类
```

### 常见具体异常

```
# 数值错误
ZeroDivisionError    # 除以零
ValueError           # 值错误，如 int('abc')
TypeError            # 类型错误，如 '2' + 2

# 索引和键错误
IndexError           # 索引越界
KeyError             # 字典键不存在
AttributeError       # 属性不存在

# 输入输出错误
FileNotFoundError    # 文件不存在
IOError              # 输入输出错误
PermissionError      # 权限错误

# 其他常见异常
NameError            # 变量未定义
SyntaxError          # 语法错误
ImportError          # 导入错误
KeyboardInterrupt    # 用户中断（Ctrl+C）
```

## 抛出异常

### raise 语句

```
# 抛出内置异常
if age < 0:
    raise ValueError("年龄不能为负数")

# 抛出自定义异常
class MyCustomError(Exception):
    pass

raise MyCustomError("自定义错误信息")

# 重新抛出当前异常
try:
    risky_operation()
except SomeError:
    print("处理部分逻辑")
    raise  # 重新抛出原异常	
```

### 捕获异常

```
def login():
    code = input("请输入六位密码：")
    if len(code) >= 6:
        return "密码输入成功"
    raise Exception("密码长度不足六位，错误")
try:
    print(login())
except Exception as e:
    print(e) #e保存的是异常信息
```

